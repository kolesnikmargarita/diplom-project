# Дипломный проект

## Суть проекта:

Данный проект предоставляет возможность хранить информацию о товарах по категориям, просматривать информацию. Авторизованные пользователи могут добавлять товары в корзину, удалять их от туда и просматривать информацию о товарах, добавленных ими в корзину.
Проект содержит роли администратора и пользователя. Пользователь с правами администратора имеет возможность добавлять товары и категории, редактировать их, удалять товары.

## Запуск приложения

Развернуть и запустить приложение можно с помощью Intellij Idea Ultimate или Docker, Docker Compose.

Для запуска через Intellij Idea Ultimate нужно добавить следующие переменные среды и присвоить им соответствующие значения:
1) SHOP_DB_HOST - хост для подключения к базе данных
2) SHOP_DB_NAME - наименование базы данных
3) SHOP_DB_USER - username для подключения к базе данных
4) SHOP_DB_PASSWORD - пароль для подключения к базе данных
После добавления переменных среды, запустить приложение.

Для запуска через Docker Compose необходимо переименовать файл .evn.example в .evn либо создать файл .evn в той же папке, что и .evn.example. В файле .evn нужно инициализировать переменные из файла .evn.example соответствующими значениями. Далее нужно собрать образ и запустить проект с помощью команд, указанных ниже.

## Собрать образ:

```shell
docker build -t diplom-project .
```

## Развернуть используя Docker Compose:
```shell
docker compose up backend -d
```

## Остановить работу проекта:

```shell
docker compose down
```

##Эндпоинты:

Запросы, не требующие авторизации:
POST-запросы:
http://localhost:8080/auth/registration - регистрация пользователя
http://localhost:8080/auth/login - авторизация пользователя
GET-запросы:
http://localhost:8080/shop - вывод списка всех товаров
http://localhost:8080/shop/categories - вывод списка категорий товаров
http://localhost:8080/shop/{categoryName} - вывод списка товаров категории с названием {categoryName}

Запросы, доступные авторизованному пользователю:
POST-запрос:
http://localhost:8080/cart/{article} - добавить товар с артикулом {article} в корзину текущего пользователя
DELETE-запрос:
http://localhost:8080/cart/{article} - удалить товар с артикулом {article} из корзины текущего пользователя
GET-запрос:
http://localhost:8080/cart - вывод списка товаров, добавленных в корзину текущим пользователем

Запросы, доступные авторизованным пользователями, обладающим правами администратора
POST-запросы:
http://localhost:8080/edit/{categoryName} - добавить новый товар в базу данных
http://localhost:8080/edit - добавить новую категорию в базу данных
PUT-запрос:
http://localhost:8080/edit/{categoryName} - изменить информацию о категории с наименованием {categoryName}
PATCH-запрос:
http://localhost:8080/edit/{article} - изменить информацию о товаре, с артикулом {article}
DELETE-запрос:
http://localhost:8080/edit/{article} - удалить товар с артикулом {article}

Более подробную информацию можно найти в документации swagger по ссылке (страница доступна во время работы проекта):
http://localhost:8080/swagger-ui/index.html

Отправлять запросы можно при помощи postman